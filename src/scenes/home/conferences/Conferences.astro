---
import { YouTube } from 'astro-embed';
import { Icon } from 'astro-icon/components';

import { CONFERENCES } from './config';
import Content from './Content.astro';
import Wrapper from './Wrapper.astro';

const languageStrings: Record<string, string> =
  Astro.currentLocale === 'en'
    ? {
        EN: 'English',
        ES: 'Spanish',
      }
    : {
        EN: 'Ingl√©s',
        ES: 'Castellano',
      };
---

<div class="grid ~gap-4/6 sm:grid-cols-2 lg:grid-cols-2">
  {
    CONFERENCES.map((conference) => (
      <article
        class="flex flex-col border bg-gray-50 dark:border-gray-700/50 dark:bg-gray-700/30"
        lang={conference.language === 'EN' ? 'en' : 'es'}
      >
        {conference.youtube && (
          <YouTube id={conference.youtube} title={conference.title} posterQuality="high" />
        )}
        <div class="flex flex-1 flex-col p-4 pb-6">
          <h3 class="text-pretty font-semibold leading-tight ~text-base/lg">{conference.title}</h3>
          <p class="pt-1 font-semibold leading-tight text-gray-500 dark:text-gray-400">
            {conference.for}
          </p>
          <footer class="mt-auto text-gray-600 dark:text-gray-400">
            <p class="flex items-center gap-2.5 pt-3">
              <strong class="flex items-center gap-1 font-semibold">
                <Icon name="ri:calendar-line" class="size-5" /> {conference.year}
              </strong>
              <span class="flex items-center gap-1">
                <Icon name="ri:speak-line" class="size-5" />
                {languageStrings[conference.language]}
              </span>
            </p>
            <p class="mt-2 flex items-center gap-1">
              <Icon name="ri:compass-line" class="size-5" />
              {conference.place.toLowerCase() === 'online' ? (
                conference.place
              ) : (
                <a
                  class="underline decoration-gray-300 underline-offset-4 transition-colors hover:text-cyan-600 dark:decoration-gray-600 dark:hover:text-cyan-300"
                  href={`https://www.google.com/maps/place/${conference.place}`}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {conference.place}
                </a>
              )}
            </p>
          </footer>
        </div>
      </article>
    ))
  }
</div>
