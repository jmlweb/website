---
import type { HTMLTag, Polymorphic } from 'astro/types';
import { twMerge } from '@/utils/twMerge';
import { cva } from '@/utils/cva';

type Props<Tag extends HTMLTag> = Polymorphic<{ as: Tag }> & {
  level?: '1' | '2' | '3';
};

const { as: Tag = 'h1', class: className, level, ...rest } = Astro.props;

const heading = cva({
  base: 'font-serif font-semibold',
  variants: {
    level: {
      '1': '~text-3xl/4xl',
      '2': '~text-xl/3xl',
      '3': '~text-lg/2xl',
    },
  },
});
---

<Tag class={twMerge(className, heading({ level }))} {...rest}>
  <slot />
</Tag>
